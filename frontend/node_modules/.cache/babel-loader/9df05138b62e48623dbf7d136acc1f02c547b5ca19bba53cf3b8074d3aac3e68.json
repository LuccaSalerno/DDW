{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  // currentUser: {name: \"User1\", lastName: \"User1\", username: \"User1\", password: \"User1\", isAdmin: false, cart: {}, discount: 0 },\n  accounts: [{\n    name: \"User1\",\n    lastName: \"User1\",\n    username: \"User1\",\n    password: \"User1\",\n    isAdmin: false,\n    cart: {},\n    discount: 0\n  }, {\n    name: \"Lucca\",\n    lastName: \"Salerno\",\n    username: \"lsalerno\",\n    password: \"1234\",\n    isAdmin: true,\n    cart: {},\n    discount: 0\n  }]\n};\nconst accountsSlice = createSlice({\n  name: 'accounts',\n  initialState,\n  reducers: {\n    login: (state, action) => {\n      const {\n        username,\n        password\n      } = action.payload;\n      const user = state.accounts.find(account => account.username === username && account.password === password);\n      if (user) {\n        state.currentUser = user;\n        state.loginStatus = 'success';\n      } else {\n        state.loginStatus = 'failed';\n      }\n    },\n    logout: state => {\n      state.currentUser = null;\n    },\n    register: (state, action) => {\n      state.accounts.push(action.payload);\n      state.registrationStatus = 'success';\n    },\n    addItemToCart: (state, action) => {\n      const itemId = action.payload;\n      if (state.currentUser.cart[itemId]) {\n        state.currentUser.cart[itemId] += 1;\n      } else {\n        state.currentUser.cart[itemId] = 1;\n      }\n    },\n    removeItemFromCart: (state, action) => {\n      const itemId = action.payload;\n      delete state.currentUser.cart[itemId];\n    },\n    lessCartItemQuantity: (state, action) => {\n      const itemId = action.payload;\n      if (state.currentUser.cart[itemId] && state.currentUser.cart[itemId] > 1) {\n        state.currentUser.cart[itemId] -= 1;\n      }\n    },\n    updateDiscount: (state, action) => {\n      state.currentUser.discount = action.payload;\n    },\n    emptyCart: state => {\n      state.currentUser.cart = {};\n    },\n    resetLoginStatus: state => {\n      state.loginStatus = null;\n    }\n  }\n});\nexport const {\n  addAccount,\n  login,\n  logout,\n  register,\n  addItemToCart,\n  removeItemFromCart,\n  lessCartItemQuantity,\n  updateDiscount,\n  emptyCart,\n  resetLoginStatus\n} = accountsSlice.actions;\nexport default accountsSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","accounts","name","lastName","username","password","isAdmin","cart","discount","accountsSlice","reducers","login","state","action","payload","user","find","account","currentUser","loginStatus","logout","register","push","registrationStatus","addItemToCart","itemId","removeItemFromCart","lessCartItemQuantity","updateDiscount","emptyCart","resetLoginStatus","addAccount","actions","reducer"],"sources":["/workspaces/DDW/frontend/src/redux/accountsSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  // currentUser: {name: \"User1\", lastName: \"User1\", username: \"User1\", password: \"User1\", isAdmin: false, cart: {}, discount: 0 },\n  accounts: [ {name: \"User1\", lastName: \"User1\", username: \"User1\", password: \"User1\", isAdmin: false, cart: {}, discount: 0 }, {name: \"Lucca\", lastName: \"Salerno\", username: \"lsalerno\", password: \"1234\", isAdmin: true, cart: {}, discount: 0 }]\n};\n\nconst accountsSlice = createSlice({\n  name: 'accounts',\n  initialState,\n  reducers: {\n    login: (state, action) => {\n      const { username, password } = action.payload;\n      const user = state.accounts.find(account => account.username === username && account.password === password);\n      if (user) {\n        state.currentUser = user;\n        state.loginStatus = 'success';\n      } else {\n        state.loginStatus = 'failed';\n      }\n    },\n    logout: (state) => {\n      state.currentUser = null;\n    },\n    register: (state, action) => {\n      state.accounts.push(action.payload);\n      state.registrationStatus = 'success';\n    },\n    addItemToCart: (state, action) => {\n      const itemId = action.payload;\n      if (state.currentUser.cart[itemId]) {\n        state.currentUser.cart[itemId] += 1;\n      } else {\n        state.currentUser.cart[itemId] = 1;\n      }\n    },\n    removeItemFromCart: (state, action) => {\n      const itemId = action.payload;\n      delete state.currentUser.cart[itemId];\n    },\n    lessCartItemQuantity: (state, action) => {\n      const itemId = action.payload;\n      if (state.currentUser.cart[itemId] && state.currentUser.cart[itemId] > 1) {\n        state.currentUser.cart[itemId] -= 1;\n      }\n    },\n    updateDiscount: (state, action) => {\n      state.currentUser.discount = action.payload;\n    },\n    emptyCart: (state) => {\n      state.currentUser.cart = {};\n    },\n    resetLoginStatus: (state) => {\n      state.loginStatus = null;\n    },\n  },\n});\n\nexport const { addAccount, login, logout, register, addItemToCart, removeItemFromCart, lessCartItemQuantity, updateDiscount, emptyCart, resetLoginStatus } = accountsSlice.actions;\n\nexport default accountsSlice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}